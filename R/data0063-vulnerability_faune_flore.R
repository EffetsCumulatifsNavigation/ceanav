#' Data 0063 : Scores de vulnérabilité pour les sites d'importance fauniques et floristiques
#'
#'
#' @keywords vulnérabilité
#' @keywords sites d'importance fauniques et floristiques
#'
#' @source Our team
#'
#' @export
#'
#' @details Cette fonction formatte les données
#'

get_data0063 <- function() {
  # =~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~= #
  # Setup
  # ----------
  # _________________________________________________________________________ #
  output <- "data0063-vulnerabilite_faune_flore/"
  folder <- paste0("./data/data-raw/", output)
  if (!file.exists(folder)) dir.create(folder)


  # _________________________________________________________________________ #

  # =~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~= #
  # Import and format
  # ----------------------------------------
  # Load individual matrices
  # Espèces à statut
  menace <- read.csv(paste0(folder, 'vulnerabilite_statut_menace.csv')) %>%
            mutate(cv = "menace")
  vulnerable <- read.csv(paste0(folder, 'vulnerabilite_statut_vulnerable.csv')) %>%
                mutate(cv = "vulnerable")
  susceptible <- read.csv(paste0(folder, 'vulnerabilite_statut_susceptible.csv')) %>%
                 mutate(cv = "susceptible")
  lep_menacee <- read.csv(paste0(folder, 'vulnerabilite_statut_lep_menacee.csv')) %>%
                mutate(cv = "lep_menacee")
  lep_voie_disparition <- read.csv(
    paste0(folder, 'vulnerabilite_statut_lep_voie_disparition.csv')
  ) %>%
  mutate(cv = "lep_voie_disparition")
                
  # Sites d'importance
  frayere <- read.csv(paste0(folder, 'vulnerabilite_frayere.csv')) %>%
             mutate(cv = "frayere")
  alevinage <- read.csv(paste0(folder, 'vulnerabilite_site_alevinage.csv')) %>%
               mutate(cv = "alevinage")
  oiseau <- read.csv(paste0(folder, 'vulnerabilite_oiseaux.csv')) %>%
            mutate(cv = "oiseau")

  # Single dataset
  data0063 <- bind_rows(menace, vulnerable, susceptible, lep_menacee, lep_voie_disparition, frayere, alevinage, oiseau) %>%
              select(categories, cv, frequence, reproduction, population, statut)
  # _____________________________________________________________________________ #


  # =~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~=~-~= #
  # Export data
  # ----------------------------------------
  # Output
  write.csv(x = data0063,
            file = "./data/data-format/data0063-vulnerabilite_faune_flore.csv",
            row.names = FALSE)
  # _________________________________________________________________________ #
}
