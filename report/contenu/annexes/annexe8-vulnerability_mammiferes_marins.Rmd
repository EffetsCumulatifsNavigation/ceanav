## Annexe 8 {-}

```{r fnccriteresmm}
tab <- function(nm, fr) {
  meta <- read.csv("../data/data-metadata/metadata_stresseurs.csv")
  dat <- read.csv(glue("../data/data-raw/data0064-vulnerabilite_mammiferes_marins/vulnerabilite_{nm}.csv"))

  dat <- left_join(meta[,c("accronyme","francais")], dat, by = c("accronyme" = "categories")) %>%
         select(-accronyme)

  # Adjust column names
  # WARNING: This is ugly but it works...
  nm <- colnames(dat)
  nm[1] <- "Stresseurs environnementaux"
  nm <- gsub("frequence","Fréquence", nm)
  nm <- gsub("direct","Effet direct ou indirect", nm)
  nm <- gsub("resistance","Résistance", nm)
  nm <- gsub("retablissement","Temps de rétablissement", nm)
  nm <- gsub("reproduction","Effet sur la reproduction", nm)
  nm <- gsub("population","Effet sur la population", nm)
  nm <- gsub("statut","Statut de l'espèce", nm)
  nm <- gsub("residente","Espèce résidente", nm)
  colnames(dat) <- nm

  dat %>%
    knitr::kable(
      align = c("l", rep("c", (ncol(dat)-1))),
      caption = glue("Évaluation des critères de vulnérabilité du {fr} aux stresseurs environnementaux. Référez au tableau \\@ref(tab:vulnerabilitySpecies) pour plus de détails sur les critères.")
   ) %>%
   kableExtra::kable_styling(font_size = 10)
}
```

<br/>

```{r belugacriteres}
tab("beluga", "béluga (*Delphinapterus leucas*)")
```

<br/>

```{r harbourpurpoisecriteres}
tab("harbour_porpoise", "marsouin commun (*Phocoena phocoena*)")
```

<br/>

```{r petitrorqualcriteres}
tab("petit_rorqual", "petit rorqual (*Balaenoptera acutorostrata*)")
```

<br/>

```{r harborsealcriteres}
tab("harbor_seal", "phoque commun (*Phoca vitulina*)")
```

<br/>

```{r harpsealcriteres}
tab("harp_seal", "phoque du Groenland (*Phoca groenlandica*)")
```

<br/>

```{r greysealcriteres}
tab("grey_seal", "phoque gris (*Halichoerus grypus*)")
```

<br/>

```{r rorqualabossecriteres}
tab("rorqual_a_bosse", "rorqual à bosse (*Megaptera novaeangliae*)")
```

<br/>

```{r rorqualbleucriteres}
tab("rorqual_bleu", "rorqual bleu (*Balaenoptera musculus*)")
```

<br/>

```{r rorqualcommuncriteres}
tab("rorqual_commun", "rorqual commun (*Balaenoptera physalus*)")
```

<br/>
