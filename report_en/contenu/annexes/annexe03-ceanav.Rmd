# Appendix 3 {.unnumbered #annexe3}

Description of the research compendium prepared to structure the cumulative effects assessment of marine vessel activities in the St. Lawrence and the river Saguenay.

#### ceanav <a href='https://github.com/EffetsCumulatifsNavigation/ceanav'><img src='./figures/logo.png' align="right" height="175" /></a> {.unnumbered}

<!-- ```{r logoannexe3, out.width = '30%', fig.link = "https://github.com/EffetsCumulatifsNavigation/ceanav"}
knitr::include_graphics("./figures/logo.png")
``` -->

[![lifecycle](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://www.tidyverse.org/lifecycle/#preliminary)
![](https://img.shields.io/badge/status-preliminary-blue.svg)

This repository contains the research compendium for the pilot project on the cumulative effects assessment of marine vessel activities in the St. Lawrence and the river Saguenay. It contains all the code to import, format, and integrate the datasets, and to run the analyses, create the figures, and render the assessment report. 

Since the data are not included in the research compendium, the whole pipeline must be executed to reproduce the cumulative effects assessment. It must however be noted that not all data are openly available or accessible through open-data portals due to some data sharing agreements. It is therefore necessary to contact us or the contacts identified to obtain the necessary data.


#### How to cite {-}

Cite the research compendium as follows: 

> Beauchesne D (2022) Research compendium for the pilot project on the cumulative effects assessment of marine vessel activities in the St. Lawrence and the river Saguenay. Consulted on [AAAA-MM-JJ]. https://github.com/EffetsCumulatifsNavigation/ceanav.

#### Content {-}

This research compendium is structure as follows:

- [**data/**](https://github.com/EffetsCumulatifsNavigation/ceanav/tree/main/data): 
contains all the data. Note that the majority of the data are not included in the repository, but the metadata are available for all data presented.
  - *data-basemap/*: contains spatial data used to generate project figures
  - *data-contact/*: contains data on organizations and resource persons for the project
  - *data-format/*: contains the formatted data
  - *data-integrated/*: contains the integrated datasets
  - *data-metadata/*: contains the metadata for the raw data and integrated data
  - *data-output/*: contains the assessment results
  - *data-param/*: contains the general parameters used for the project (*i.e.* spatial projection, spatial extents, color palettes, nomenclature, etc.)
  - *data-raw/*: contains the raw data; *warning* : all the data are not available due to data sharing agreements. Refer to metadata for more information on specific datasets
  - *data-vulnerability/*: contains the data for the vulnerability of valued components to environmental stressors

- [**docs/**](https://github.com/EffetsCumulatifsNavigation/ceanav/tree/main/docs): contains the web page for the research compendium generated by [`pkgdown`](https://pkgdown.r-lib.org/)

- [**figures/**](https://github.com/EffetsCumulatifsNavigation/ceanav/tree/main/figures): contains the project figures
  - *figures-integrated*: figures of integrated data for each category of environmental stressor and valued component
  - *figures-output*: figures of assessment results

- [**inst/templates**](https://github.com/EffetsCumulatifsNavigation/ceanav/tree/main/inst/templates): presentation templates used to present data

- [**man/**](https://github.com/EffetsCumulatifsNavigation/ceanav/tree/main/man): contains the documentation of R functions built for the project

- [**R/**](https://github.com/EffetsCumulatifsNavigation/ceanav/tree/main/R): contains all the R function developed for the project
  - `00-pipeline.R`: contains a function that executes the whole project pipeline, *i.e.* accessing, formatting and integrating the raw data, run the analyses, generate the tables and figures, and render the assessment reports. *Warning* : this function, if executed in its entirety, will take a long time to run.
  - `ana_nom.R`: contains analyses scripts
  - `dataXXXX-nom.R`: contains the routines to access and format raw data
  - `fig_nom.R`: contains scripts to generate figures
  - `fnc_nom.R`: contains R function developed for the project
  - `int-cv_nom.R`: contains the routines to integrate valued components
  - `int-st_nom.R`: contains the routines to integrate environmental stressors
  - `rep_nom.R`: contain code to generate portions of the reports 
  - `vuln_nom.R`: contains the routines to integrated the data on the vulnerability of valued components to environmental stressors

- [**report/**](https://github.com/EffetsCumulatifsNavigation/ceanav/tree/main/report): contains the report

- `_pkgdown.yml`: metadata to generate the research compendium web page
- `DESCRIPTION`: project metadata 
- `README.Rmd`: research compendium description

#### How to use {-}

Clone and execute the following commands in your terminal: 

```{r eval=FALSE, echo = TRUE}
R -e 'library(devtools);document()'
R CMD INSTALL .
R
library(ceanav)
pipeline()
```

*Warning* : this research compendium is not fully reproducible due to data sharing agreements imposing restrictions on sharing certain datasets. 
